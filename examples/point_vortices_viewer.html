
<!DOCTYPE html>
<html>
<head>
    <title>Point Vortices</title>
    <style>
        body { font-family: sans-serif; background: #222; color: #fff; display: flex; flex-direction: column; align-items: center; }
        canvas { border: 1px solid #555; background: #000; }
    </style>
</head>
<body>
    <h1>Point Vortex Dynamics</h1>
    <p>Red = Positive Circulation, Blue = Negative.</p>
    <canvas id="simCanvas" width="600" height="600"></canvas>
    <script>
        const history = [[[0.496206134557724, -0.13693836331367493], [0.645189642906189, 1.5224530696868896], [-0.23422294855117798, -0.23654736578464508], [1.577291488647461, 0.7679424285888672]], [[0.4905236065387726, -0.12387136369943619], [0.620159924030304, 1.51651132106781], [-0.23428820073604584, -0.26059088110923767], [1.5580096244812012, 0.7729771137237549]], [[0.4837513267993927, -0.11118195205926895], [0.595057487487793, 1.5102512836456299], [-0.2332151234149933, -0.2844949960708618], [1.5386062860488892, 0.777931809425354]], [[0.47589561343193054, -0.09890902787446976], [0.5698843002319336, 1.503670334815979], [-0.2310141623020172, -0.3082183599472046], [1.519087791442871, 0.7828017473220825]], [[0.4669616222381592, -0.08709056675434113], [0.5446425676345825, 1.4967670440673828], [-0.2276945412158966, -0.3317197561264038], [1.4994603395462036, 0.7875813841819763]], [[0.4569527506828308, -0.07576413452625275], [0.5193348526954651, 1.4895392656326294], [-0.22326412796974182, -0.3549575209617615], [1.4797308444976807, 0.7922649383544922]], [[0.44587117433547974, -0.06496734917163849], [0.4939640760421753, 1.4819856882095337], [-0.2177295833826065, -0.3778892159461975], [1.4599071741104126, 0.796846330165863]], [[0.43371763825416565, -0.05473842844367027], [0.46853363513946533, 1.4741052389144897], [-0.21109642088413239, -0.4004710018634796], [1.4399969577789307, 0.8013188242912292]], [[0.42049187421798706, -0.04511669650673866], [0.4430471658706665, 1.465897560119629], [-0.20336920022964478, -0.4226568937301636], [1.4200093746185303, 0.8056751489639282]], [[0.4061926603317261, -0.036143139004707336], [0.41750890016555786, 1.457362413406372], [-0.19455179572105408, -0.4443984627723694], [1.3999528884887695, 0.8099080324172974]], [[0.39081865549087524, -0.02786097303032875], [0.3919233977794647, 1.4485005140304565], [-0.184647798538208, -0.465643972158432], [1.3798372745513916, 0.814009428024292]], [[0.3743687570095062, -0.0203162282705307], [0.366295725107193, 1.4393131732940674], [-0.17366088926792145, -0.48633790016174316], [1.3596725463867188, 0.8179711699485779]], [[0.3568428158760071, -0.013558296486735344], [0.3406313359737396, 1.4298020601272583], [-0.16159574687480927, -0.5064203143119812], [1.3394688367843628, 0.8217846155166626]], [[0.33824270963668823, -0.007640474941581488], [0.31493619084358215, 1.4199697971343994], [-0.1484585553407669, -0.5258263945579529], [1.3192367553710938, 0.8254407644271851]], [[0.3185732960700989, -0.0026204711757600307], [0.28921693563461304, 1.4098198413848877], [-0.13425825536251068, -0.5444858074188232], [1.298986554145813, 0.8289303183555603]], [[0.29784414172172546, 0.0014392132870852947], [0.26348069310188293, 1.3993562459945679], [-0.1190076395869255, -0.5623223781585693], [1.278728723526001, 0.8322436809539795]], [[0.2760709524154663, 0.004471030086278915], [0.2377353459596634, 1.388584017753601], [-0.10272473841905594, -0.5792536735534668], [1.2584736347198486, 0.8353710770606995]], [[0.25327757000923157, 0.006402328610420227], [0.2119894176721573, 1.3775089979171753], [-0.08543454855680466, -0.5951917171478271], [1.2382309436798096, 0.8383025527000427]], [[0.22949804365634918, 0.007155601866543293], [0.18625223636627197, 1.366137146949768], [-0.06717093288898468, -0.6100422143936157], [1.2180098295211792, 0.8410279154777527]], [[0.2047790139913559, 0.0066491118632256985], [0.1605341136455536, 1.3544752597808838], [-0.04797855019569397, -0.6237066388130188], [1.1978181600570679, 0.8435370326042175]], [[0.17918217182159424, 0.004797979258000851], [0.13484607636928558, 1.3425307273864746], [-0.02791498973965645, -0.6360825896263123], [1.1776633262634277, 0.8458196520805359]], [[0.15278641879558563, 0.0015158529859036207], [0.10920032858848572, 1.3303109407424927], [-0.007052854169160128, -0.6470661759376526], [1.1575511693954468, 0.8478657603263855]], [[0.12569010257720947, -0.003282796824350953], [0.0836099311709404, 1.3178232908248901], [0.014518442563712597, -0.656554639339447], [1.1374858617782593, 0.8496655225753784]], [[0.09801249206066132, -0.009679733775556087], [0.058088935911655426, 1.3050752878189087], [0.03669130057096481, -0.6644498109817505], [1.1174696683883667, 0.8512094616889954]], [[0.0698944702744484, -0.01774940825998783], [0.032652270048856735, 1.2920727729797363], [0.0593392550945282, -0.6706618070602417], [1.0975029468536377, 0.85248863697052]], [[0.04149831086397171, -0.02755494974553585], [0.007315617986023426, 1.278821349143982], [0.08231731504201889, -0.67511385679245], [1.0775842666625977, 0.8534947633743286]], [[0.013005886226892471, -0.03914395347237587], [-0.017904803156852722, 1.2653249502182007], [0.10546337068080902, -0.6777467131614685], [1.0577101707458496, 0.8542203307151794]], [[-0.015384320169687271, -0.05254438519477844], [-0.0429924912750721, 1.2515859603881836], [0.12860107421875, -0.6785235404968262], [1.0378751754760742, 0.8546586036682129]], [[-0.04346177354454994, -0.06776103377342224], [-0.06793097406625748, 1.2376047372817993], [0.15154390037059784, -0.6774332523345947], [1.0180714130401611, 0.8548038005828857]], [[-0.07100962102413177, -0.08477284759283066], [-0.0927041620016098, 1.2233797311782837], [0.17410030961036682, -0.6744938492774963], [0.9982898235321045, 0.8546512126922607]], [[-0.09781128168106079, -0.10353166610002518], [-0.11729669570922852, 1.208907127380371], [0.19607976078987122, -0.6697534322738647], [0.9785194396972656, 0.854197084903717]], [[-0.12365726381540298, -0.12396235018968582], [-0.14169423282146454, 1.1941814422607422], [0.2172989845275879, -0.6632901430130005], [0.9587486386299133, 0.8534386157989502]], [[-0.1483517587184906, -0.14596447348594666], [-0.16588374972343445, 1.1791948080062866], [0.23758800327777863, -0.6552100777626038], [0.9389646649360657, 0.8523737788200378]], [[-0.17171835899353027, -0.16941548883914948], [-0.18985363841056824, 1.163938045501709], [0.2567952871322632, -0.6456437110900879], [0.9191540479660034, 0.8510016202926636]], [[-0.19360455870628357, -0.1941748410463333], [-0.21359391510486603, 1.1484010219573975], [0.2747918665409088, -0.6347413063049316], [0.8993033766746521, 0.8493215441703796]], [[-0.21388469636440277, -0.2200889140367508], [-0.23709605634212494, 1.1325724124908447], [0.2914741337299347, -0.622667670249939], [0.8793990612030029, 0.8473334312438965]], [[-0.23246125876903534, -0.24699600040912628], [-0.26035305857658386, 1.1164404153823853], [0.30676478147506714, -0.6095966696739197], [0.8594279885292053, 0.8450374603271484]], [[-0.24926482141017914, -0.2747313976287842], [-0.283359169960022, 1.099993109703064], [0.3206128180027008, -0.5957052111625671], [0.8393774628639221, 0.8424339294433594]], [[-0.264252632856369, -0.30313166975975037], [-0.30610963702201843, 1.0832182168960571], [0.33299240469932556, -0.5811688899993896], [0.8192351460456848, 0.8395229578018188]], [[-0.27740636467933655, -0.332038551568985], [-0.32860076427459717, 1.0661039352416992], [0.34390029311180115, -0.5661578178405762], [0.7989898920059204, 0.8363045454025269]], [[-0.2887292206287384, -0.3613016903400421], [-0.3508293330669403, 1.048639178276062], [0.3533533811569214, -0.5508331656455994], [0.7786310315132141, 0.8327781558036804]], [[-0.2982427775859833, -0.3907809555530548], [-0.372792512178421, 1.0308126211166382], [0.36138561367988586, -0.5353450179100037], [0.7581492066383362, 0.828942596912384]], [[-0.30598366260528564, -0.4203477203845978], [-0.39448773860931396, 1.0126142501831055], [0.368044912815094, -0.5198307037353516], [0.7375355958938599, 0.8247966170310974]], [[-0.3120003342628479, -0.4498855769634247], [-0.41591230034828186, 0.9940340518951416], [0.3733901381492615, -0.5044140815734863], [0.7167824506759644, 0.8203375935554504]], [[-0.31635043025016785, -0.47929054498672485], [-0.43706342577934265, 0.9750630259513855], [0.37748846411705017, -0.48920494318008423], [0.6958830952644348, 0.81556236743927]], [[-0.31909799575805664, -0.5084707736968994], [-0.45793798565864563, 0.9556925296783447], [0.38041290640830994, -0.47429969906806946], [0.6748316884040833, 0.8104666471481323]], [[-0.32031118869781494, -0.5373458862304688], [-0.47853243350982666, 0.9359145760536194], [0.3822401762008667, -0.4597814679145813], [0.653623104095459, 0.8050457239151001]], [[-0.3200608193874359, -0.5658466219902039], [-0.49884268641471863, 0.9157218933105469], [0.3830491900444031, -0.4457210302352905], [0.6322534084320068, 0.7992932796478271]], [[-0.31841832399368286, -0.5939133763313293], [-0.5188640356063843, 0.8951073884963989], [0.38291922211647034, -0.43217766284942627], [0.6107193827629089, 0.7932023406028748]], [[-0.31545490026474, -0.6214958429336548], [-0.5385915040969849, 0.8740646243095398], [0.38192909955978394, -0.4192001521587372], [0.5890187621116638, 0.7867645025253296]], [[-0.31124040484428406, -0.6485515236854553], [-0.5580189824104309, 0.8525876402854919], [0.3801562190055847, -0.40682747960090637], [0.5671496987342834, 0.7799705266952515]], [[-0.3058428466320038, -0.6750451326370239], [-0.5771399140357971, 0.8306707739830017], [0.37767577171325684, -0.3950901925563812], [0.5451117157936096, 0.772810161113739]], [[-0.29932767152786255, -0.700947642326355], [-0.5959468483924866, 0.8083088994026184], [0.3745605945587158, -0.38401105999946594], [0.5229046940803528, 0.7652716636657715]], [[-0.2917574346065521, -0.7262353301048279], [-0.6144319176673889, 0.7854968905448914], [0.3708805739879608, -0.3736059367656708], [0.5005293488502502, 0.7573422789573669]], [[-0.2831917405128479, -0.750889003276825], [-0.6325864195823669, 0.7622301578521729], [0.36670246720314026, -0.36388447880744934], [0.4779873788356781, 0.7490078806877136]], [[-0.2736872434616089, -0.7748937010765076], [-0.6504007577896118, 0.7385043501853943], [0.3620899021625519, -0.3548509478569031], [0.4552811086177826, 0.740253210067749]], [[-0.26329728960990906, -0.7982373833656311], [-0.6678647994995117, 0.7143154740333557], [0.3571034073829651, -0.34650465846061707], [0.4324135184288025, 0.7310616374015808]], [[-0.25207212567329407, -0.8209108710289001], [-0.6849676966667175, 0.6896595358848572], [0.3518003523349762, -0.3388407230377197], [0.4093884825706482, 0.7214152812957764]], [[-0.24005913734436035, -0.8429073095321655], [-0.7016977667808533, 0.6645330190658569], [0.34623512625694275, -0.3318502902984619], [0.3862106502056122, 0.7112946510314941]], [[-0.22730281949043274, -0.8642218112945557], [-0.7180426716804504, 0.6389324069023132], [0.34045901894569397, -0.32552099227905273], [0.3628854751586914, 0.7006791234016418]], [[-0.21384496986865997, -0.884850800037384], [-0.7339892983436584, 0.6128543615341187], [0.33452078700065613, -0.319837361574173], [0.3394191265106201, 0.6895464658737183]], [[-0.19972483813762665, -0.9047918319702148], [-0.749523937702179, 0.5862959027290344], [0.3284662961959839, -0.3147810399532318], [0.31581881642341614, 0.6778727173805237]], [[-0.18497945368289948, -0.9240437150001526], [-0.7646320462226868, 0.5592540502548218], [0.3223390281200409, -0.31033089756965637], [0.29209256172180176, 0.6656326055526733]], [[-0.16964364051818848, -0.9426056742668152], [-0.7792983651161194, 0.5317259430885315], [0.31618013978004456, -0.3064631223678589], [0.26824936270713806, 0.6527986526489258]], [[-0.15375027060508728, -0.9604775309562683], [-0.7935066819190979, 0.5037089586257935], [0.3100284934043884, -0.30315151810646057], [0.2442992925643921, 0.6393418312072754]], [[-0.1373305320739746, -0.9776594638824463], [-0.8072404265403748, 0.475200355052948], [0.3039208948612213, -0.3003673553466797], [0.22025346755981445, 0.625231146812439]], [[-0.12041400372982025, -0.9941519498825073], [-0.8204817771911621, 0.44619759917259216], [0.29789209365844727, -0.2980795204639435], [0.19612431526184082, 0.6104329824447632]], [[-0.10302888602018356, -1.0099555253982544], [-0.8332124352455139, 0.4166981279850006], [0.29197508096694946, -0.29625412821769714], [0.17192555963993073, 0.5949117541313171]], [[-0.08520220220088959, -1.0250710248947144], [-0.8454132080078125, 0.3866993486881256], [0.28620073199272156, -0.29485467076301575], [0.14767241477966309, 0.5786291360855103]], [[-0.0669599175453186, -1.039499282836914], [-0.8570639491081238, 0.3561987280845642], [0.28059837222099304, -0.29384177923202515], [0.1233818531036377, 0.5615437030792236]], [[-0.048327118158340454, -1.0532407760620117], [-0.8681434988975525, 0.32519346475601196], [0.2751952111721039, -0.2931728959083557], [0.09907271713018417, 0.5436111092567444]], [[-0.029328180477023125, -1.0662965774536133], [-0.8786296844482422, 0.2936808168888092], [0.2700165808200836, -0.29280197620391846], [0.07476602494716644, 0.5247832536697388]], [[-0.009986910037696362, -1.078667163848877], [-0.8884998559951782, 0.26165780425071716], [0.2650858163833618, -0.29267922043800354], [0.05048537999391556, 0.5050081014633179]], [[0.009673328138887882, -1.0903533697128296], [-0.897729754447937, 0.2291211634874344], [0.2604236900806427, -0.29275062680244446], [0.02625732496380806, 0.4842289984226227]], [[0.02962947078049183, -1.101356029510498], [-0.9062943458557129, 0.1960672289133072], [0.25604844093322754, -0.2929573357105255], [0.0021119138691574335, 0.46238425374031067]], [[0.04985862597823143, -1.111675500869751], [-0.9141671061515808, 0.16249194741249084], [0.25197499990463257, -0.2932351529598236], [-0.021916620433330536, 0.4394063651561737]], [[0.0703379437327385, -1.1213128566741943], [-0.9213207960128784, 0.12839077413082123], [0.24821439385414124, -0.2935139536857605], [-0.04578903317451477, 0.41522127389907837]], [[0.09104452282190323, -1.1302686929702759], [-0.927726686000824, 0.09375835210084915], [0.24477294087409973, -0.29371678829193115], [-0.06946001201868057, 0.38974741101264954]], [[0.11195529252290726, -1.1385436058044434], [-0.9333548545837402, 0.05858851969242096], [0.24165083467960358, -0.29375913739204407], [-0.09287681430578232, 0.3628949224948883]], [[0.13304686546325684, -1.146138310432434], [-0.938174307346344, 0.022874047979712486], [0.23884059488773346, -0.2935481071472168], [-0.11597753316164017, 0.3345642685890198]], [[0.15429554879665375, -1.1530534029006958], [-0.9421527981758118, -0.013393621891736984], [0.23632489144802094, -0.2929815351963043], [-0.13868892192840576, 0.3046453297138214]], [[0.1756771057844162, -1.159289836883545], [-0.9452571272850037, -0.05022462457418442], [0.23407354950904846, -0.2919474244117737], [-0.160923570394516, 0.2730163633823395]], [[0.1971668004989624, -1.1648467779159546], [-0.9474537372589111, -0.08763100206851959], [0.2320398986339569, -0.2903233766555786], [-0.1825762689113617, 0.23954293131828308]], [[0.21873927116394043, -1.1697238683700562], [-0.9487088322639465, -0.1256270855665207], [0.2301555722951889, -0.28797706961631775], [-0.20351950824260712, 0.20407746732234955]], [[0.24036848545074463, -1.1739192008972168], [-0.9489889740943909, -0.16422981023788452], [0.22832423448562622, -0.28476688265800476], [-0.22359764575958252, 0.166459858417511]], [[0.262027770280838, -1.177429437637329], [-0.9482628703117371, -0.20345905423164368], [0.22641313076019287, -0.2805456221103668], [-0.2426198422908783, 0.1265195608139038]], [[0.2836898863315582, -1.1802489757537842], [-0.9465025067329407, -0.24333782494068146], [0.22424302995204926, -0.2751660943031311], [-0.26035159826278687, 0.08408072590827942]], [[0.3053272068500519, -1.1823686361312866], [-0.9436857104301453, -0.2838919162750244], [0.22157645225524902, -0.26849210262298584], [-0.27650555968284607, 0.038972221314907074]], [[0.3269118368625641, -1.183774709701538], [-0.9397994875907898, -0.3251490592956543], [0.21810509264469147, -0.2604161202907562], [-0.29073262214660645, -0.00895470380783081]], [[0.3484162390232086, -1.1844478845596313], [-0.9348443150520325, -0.36713647842407227], [0.21343979239463806, -0.25088757276535034], [-0.30261653661727905, -0.05979764834046364]], [[0.36981382966041565, -1.1843602657318115], [-0.9288389086723328, -0.4098765552043915], [0.20710882544517517, -0.2399529069662094], [-0.3116777539253235, -0.11355995386838913]], [[0.3910796046257019, -1.1834748983383179], [-0.9218251705169678, -0.45337894558906555], [0.19857412576675415, -0.22780780494213104], [-0.31739506125450134, -0.17009282112121582]], [[0.41219136118888855, -1.1817435026168823], [-0.9138697385787964, -0.4976298213005066], [0.18727901577949524, -0.2148521989583969], [-0.3192562162876129, -0.22903038561344147]], [[0.43313005566596985, -1.1791071891784668], [-0.9050609469413757, -0.5425782799720764], [0.17273686826229095, -0.20172721147537231], [-0.31684398651123047, -0.28974002599716187]], [[0.45387962460517883, -1.1754961013793945], [-0.8954970240592957, -0.5881251096725464], [0.15465375781059265, -0.18930067121982574], [-0.30994656682014465, -0.3513244092464447]], [[0.474425345659256, -1.1708332300186157], [-0.8852661848068237, -0.6341202259063721], [0.13304784893989563, -0.17857272922992706], [-0.29865559935569763, -0.41271039843559265]], [[0.49475038051605225, -1.1650378704071045], [-0.8744258880615234, -0.680374026298523], [0.10830497741699219, -0.1705106645822525], [-0.2833974361419678, -0.4728214740753174]], [[0.5148305892944336, -1.1580313444137573], [-0.8629899024963379, -0.7266813516616821], [0.08112822473049164, -0.16587190330028534], [-0.2648649513721466, -0.5307739973068237]], [[0.5346294045448303, -1.1497400999069214], [-0.8509300351142883, -0.772848904132843], [0.052398186177015305, -0.16509222984313965], [-0.2438737452030182, -0.5860124230384827]], [[0.5540919303894043, -1.1400984525680542], [-0.8381897211074829, -0.8187147974967957], [0.0230104960501194, -0.16827531158924103], [-0.22120831906795502, -0.638336718082428]], [[0.5731419324874878, -1.1290504932403564], [-0.8247018456459045, -0.864155650138855], [-0.006246022880077362, -0.1752610206604004], [-0.19751393795013428, -0.6878398656845093]], [[0.5916790962219238, -1.1165508031845093], [-0.8104026913642883, -0.9090840220451355], [-0.034747183322906494, -0.18572326004505157], [-0.17325079441070557, -0.7348054051399231]], [[0.6095780730247498, -1.1025677919387817], [-0.7952409386634827, -0.9534404277801514], [-0.06203913316130638, -0.19925817847251892], [-0.14869599044322968, -0.7796099185943604]], [[0.6266880631446838, -1.0870851278305054], [-0.7791815996170044, -0.9971845149993896], [-0.08781556040048599, -0.21544641256332397], [-0.12397021055221558, -0.822648286819458]], [[0.6428350806236267, -1.070108413696289], [-0.7622057795524597, -1.0402878522872925], [-0.11188548058271408, -0.23389002680778503], [-0.09907149523496628, -0.8642846941947937]], [[0.6578240990638733, -1.0516688823699951], [-0.7443098425865173, -1.0827280282974243], [-0.13414238393306732, -0.2542308568954468], [-0.0739077553153038, -0.9048232436180115]], [[0.6714447140693665, -1.0318316221237183], [-0.7255030274391174, -1.1244839429855347], [-0.15453892946243286, -0.2761569917201996], [-0.048324987292289734, -0.944490373134613]], [[0.6834783554077148, -1.0107011795043945], [-0.7058048248291016, -1.1655347347259521], [-0.1730676293373108, -0.2994031012058258], [-0.02213171310722828, -0.9834253787994385]], [[0.6937096118927002, -0.988427996635437], [-0.6852423548698425, -1.205856442451477], [-0.1897469460964203, -0.3237474262714386], [0.004878895357251167, -1.021675944328308]], [[0.7019394636154175, -0.9652100801467896], [-0.6638477444648743, -1.2454216480255127], [-0.2046114057302475, -0.3490076959133148], [0.032908108085393906, -1.0591986179351807]], [[0.7080016732215881, -0.9412923455238342], [-0.6416552066802979, -1.2841988801956177], [-0.21770454943180084, -0.3750362992286682], [0.062131594866514206, -1.095865249633789]], [[0.7117785811424255, -0.9169583320617676], [-0.618698239326477, -1.3221536874771118], [-0.22907400131225586, -0.40171611309051514], [0.09268111735582352, -1.1314741373062134]], [[0.7132147550582886, -0.8925178647041321], [-0.5950073599815369, -1.3592488765716553], [-0.2387678176164627, -0.4289557933807373], [0.1246296837925911, -1.1657705307006836]], [[0.7123250961303711, -0.8682878017425537], [-0.5706080198287964, -1.3954471349716187], [-0.24683168530464172, -0.45668551325798035], [0.15798237919807434, -1.1984690427780151]], [[0.7091960310935974, -0.8445711135864258], [-0.5455199480056763, -1.430710792541504], [-0.2533067762851715, -0.4848528206348419], [0.1926744282245636, -1.2292824983596802]], [[0.7039782404899597, -0.8216368556022644], [-0.5197561979293823, -1.4650053977966309], [-0.2582279443740845, -0.5134189128875732], [0.22857710719108582, -1.2579454183578491]], [[0.6968719959259033, -0.7997042536735535], [-0.4933241307735443, -1.4983004331588745], [-0.26162242889404297, -0.5423550009727478], [0.2655099034309387, -1.284237265586853]], [[0.6881090402603149, -0.7789332270622253], [-0.46622610092163086, -1.5305700302124023], [-0.26350870728492737, -0.5716390013694763], [0.30325719714164734, -1.307993769645691]], [[0.677932858467102, -0.7594218254089355], [-0.43846118450164795, -1.5617926120758057], [-0.2638956606388092, -0.6012528538703918], [0.34158530831336975, -1.3291137218475342]], [[0.666580855846405, -0.7412110567092896], [-0.4100261628627777, -1.591951847076416], [-0.26278218626976013, -0.6311800479888916], [0.3802589178085327, -1.347556471824646]], [[0.6542700529098511, -0.7242925763130188], [-0.3809170424938202, -1.6210355758666992], [-0.26015666127204895, -0.6614034175872803], [0.41905322670936584, -1.363335132598877]], [[0.6411877870559692, -0.708620011806488], [-0.35112982988357544, -1.6490347385406494], [-0.25599703192710876, -0.6919035315513611], [0.45776307582855225, -1.3765068054199219]], [[0.6274857521057129, -0.6941210031509399], [-0.32066115736961365, -1.6759430170059204], [-0.2502709627151489, -0.7226569056510925], [0.49620771408081055, -1.3871605396270752]], [[0.6132780909538269, -0.6807079315185547], [-0.2895084321498871, -1.701755404472351], [-0.24293580651283264, -0.7536345720291138], [0.5342328548431396, -1.3954087495803833]], [[0.5986424088478088, -0.6682880520820618], [-0.25767022371292114, -1.7264691591262817], [-0.2339393049478531, -0.7848005890846252], [0.5717102289199829, -1.4013763666152954]], [[0.5836218595504761, -0.6567720174789429], [-0.22514605522155762, -1.750080943107605], [-0.223220095038414, -0.8161105513572693], [0.6085358262062073, -1.4051945209503174]], [[0.5682292580604553, -0.646081268787384], [-0.19193615019321442, -1.772588849067688], [-0.2107085883617401, -0.8475100994110107], [0.6446267366409302, -1.4069936275482178]], [[0.5524512529373169, -0.6361531019210815], [-0.15804141759872437, -1.7939906120300293], [-0.19632813334465027, -0.8789329528808594], [0.6799190640449524, -1.4069006443023682]], [[0.5362532138824463, -0.6269460320472717], [-0.12346313148736954, -1.8142842054367065], [-0.17999668419361115, -0.91029953956604], [0.7143638134002686, -1.4050348997116089]], [[0.5195848941802979, -0.6184430122375488], [-0.08820273727178574, -1.8334681987762451], [-0.1616290658712387, -0.9415149688720703], [0.7479249835014343, -1.4015063047409058]], [[0.5023857951164246, -0.6106554865837097], [-0.05226168781518936, -1.8515411615371704], [-0.1411399245262146, -0.972467303276062], [0.7805758714675903, -1.3964145183563232]], [[0.4845919609069824, -0.6036249995231628], [-0.015641383826732635, -1.8685026168823242], [-0.11844766139984131, -1.0030261278152466], [0.8122977614402771, -1.3898475170135498]], [[0.4661426544189453, -0.5974254012107849], [0.02165677584707737, -1.8843529224395752], [-0.09347949922084808, -1.0330419540405273], [0.8430770039558411, -1.3818814754486084]], [[0.44698867201805115, -0.5921629667282104], [0.05963120982050896, -1.899093747138977], [-0.06617772579193115, -1.0623456239700317], [0.8729036450386047, -1.3725807666778564]], [[0.4271008372306824, -0.5879749059677124], [0.09827978163957596, -1.9127275943756104], [-0.03650716319680214, -1.0907504558563232], [0.9017693996429443, -1.3619978427886963]], [[0.40647953748703003, -0.5850263237953186], [0.1375991851091385, -1.9252595901489258], [-0.00446357112377882, -1.1180554628372192], [0.9296665787696838, -1.3501734733581543]], [[0.38516390323638916, -0.5835034251213074], [0.17758417129516602, -1.9366964101791382], [0.029917655512690544, -1.1440510749816895], [0.9565858244895935, -1.3371375799179077]], [[0.36324065923690796, -0.58360356092453], [0.21822643280029297, -1.9470463991165161], [0.06655355542898178, -1.1685292720794678], [0.9825153946876526, -1.3229092359542847]], [[0.34084969758987427, -0.585521936416626], [0.2595135569572449, -1.9563192129135132], [0.10530809313058853, -1.1912953853607178], [1.0074390172958374, -1.3074977397918701]], [[0.3181862235069275, -0.5894343256950378], [0.3014278709888458, -1.9645252227783203], [0.14599093794822693, -1.2121824026107788], [1.0313336849212646, -1.2909042835235596]], [[0.29549679160118103, -0.5954794883728027], [0.34394538402557373, -1.971673846244812], [0.18836237490177155, -1.231067419052124], [1.0541691780090332, -1.2731229066848755]], [[0.2730688154697418, -0.6037414073944092], [0.38703563809394836, -1.9777727127075195], [0.23214568197727203, -1.2478841543197632], [1.0759040117263794, -1.2541428804397583]], [[0.2512136995792389, -0.6142363548278809], [0.4306615889072418, -1.9828261137008667], [0.2770465910434723, -1.2626339197158813], [1.0964839458465576, -1.2339518070220947]], [[0.2302456796169281, -0.6269063949584961], [0.4747808277606964, -1.9868340492248535], [0.3227781057357788, -1.2753859758377075], [1.1158398389816284, -1.2125376462936401]], [[0.21045975387096405, -0.641621470451355], [0.5193471312522888, -1.9897912740707397], [0.36908718943595886, -1.2862727642059326], [1.1338831186294556, -1.1898930072784424]], [[0.1921122521162033, -0.6581898331642151], [0.5643125176429749, -1.9916880130767822], [0.415778785943985, -1.2954750061035156], [1.150504469871521, -1.1660192012786865]], [[0.1754073202610016, -0.6763738393783569], [0.6096298694610596, -1.9925103187561035], [0.46273449063301086, -1.3032007217407227], [1.1655710935592651, -1.1409317255020142]], [[0.16049042344093323, -0.6959090828895569], [0.6552544832229614, -1.992242693901062], [0.5099232196807861, -1.3096644878387451], [1.1789238452911377, -1.1146653890609741]], [[0.1474490910768509, -0.716522753238678], [0.7011463642120361, -1.9908701181411743], [0.5574042201042175, -1.3150618076324463], [1.1903760433197021, -1.0872818231582642]], [[0.13631868362426758, -0.7379493713378906], [0.7472705841064453, -1.9883806705474854], [0.6053218841552734, -1.31954824924469], [1.1997129917144775, -1.0588792562484741]], [[0.12709152698516846, -0.7599424719810486], [0.793597936630249, -1.9847691059112549], [0.6538958549499512, -1.3232183456420898], [1.2066936492919922, -1.0296045541763306]], [[0.11972708255052567, -0.7822819948196411], [0.8401042222976685, -1.9800409078598022], [0.7034038305282593, -1.326087236404419], [1.2110562324523926, -0.9996680617332458]], [[0.11416185647249222, -0.8047781586647034], [0.8867683410644531, -1.974214792251587], [0.7541584968566895, -1.3280713558197021], [1.2125310897827148, -0.9693619012832642]], [[0.11031787097454071, -0.8272736072540283], [0.9335690140724182, -1.9673279523849487], [0.80647212266922, -1.3289715051651], [1.2108622789382935, -0.9390794038772583]], [[0.10810931771993637, -0.8496428728103638], [0.9804788827896118, -1.9594380855560303], [0.8606085181236267, -1.3284600973129272], [1.2058444023132324, -0.9093320369720459]], [[0.1074473112821579, -0.8717915415763855], [1.0274572372436523, -1.9506280422210693], [0.9167143106460571, -1.32607901096344], [1.1973791122436523, -0.8807543516159058]], [[0.1082426905632019, -0.8936547040939331], [1.0744389295578003, -1.9410020112991333], [0.9747344851493835, -1.321263074874878], [1.1855450868606567, -0.8540812134742737]], [[0.11040738224983215, -0.9151940941810608], [1.1213246583938599, -1.930679440498352], [1.0343292951583862, -1.3134002685546875], [1.170670986175537, -0.8300822377204895]], [[0.11385470628738403, -0.9363954067230225], [1.1679742336273193, -1.9197794198989868], [1.0948268175125122, -1.3019360303878784], [1.1533757448196411, -0.8094450235366821]], [[0.11849932372570038, -0.957262396812439], [1.2142112255096436, -1.9084010124206543], [1.155258297920227, -1.2865036725997925], [1.1345365047454834, -0.7926319241523743]], [[0.12425785511732101, -0.9778109192848206], [1.2598402500152588, -1.8966033458709717], [1.2144956588745117, -1.2670269012451172], [1.115169644355774, -0.7797626852989197]], [[0.1310502588748932, -0.9980612993240356], [1.304673194885254, -1.8843995332717896], [1.2714523077011108, -1.2437466382980347], [1.0962533950805664, -0.7705885767936707]], [[0.13880202174186707, -1.0180327892303467], [1.3485535383224487, -1.8717622756958008], [1.3252654075622559, -1.2171555757522583], [1.078568935394287, -0.7645708322525024]], [[0.14744608104228973, -1.0377386808395386], [1.3913702964782715, -1.8586416244506836], [1.3753873109817505, -1.1878783702850342], [1.0626200437545776, -0.7610211968421936]], [[0.15692412853240967, -1.0571849346160889], [1.4330589771270752, -1.8449825048446655], [1.4215795993804932, -1.1565556526184082], [1.048638105392456, -0.7592386603355408]], [[0.16718690097332, -1.0763694047927856], [1.473592758178711, -1.830737590789795], [1.4638457298278809, -1.123765230178833], [1.0366427898406982, -0.7585999369621277]], [[0.1781936138868332, -1.095283031463623], [1.5129724740982056, -1.8158730268478394], [1.502347469329834, -1.089986801147461], [1.0265141725540161, -0.7586002349853516]], [[0.18991097807884216, -1.1139119863510132], [1.5512163639068604, -1.8003697395324707], [1.5373327732086182, -1.0555974245071411], [1.0180553197860718, -0.7588573694229126]], [[0.20231172442436218, -1.1322381496429443], [1.588351845741272, -1.7842216491699219], [1.5690852403640747, -1.0208834409713745], [1.011038064956665, -0.7590969204902649]], [[0.21537350118160248, -1.150240421295166], [1.62441086769104, -1.7674328088760376], [1.5978920459747314, -0.9860575795173645], [1.0052286386489868, -0.759131908416748]], [[0.22907784581184387, -1.1678966283798218], [1.659427285194397, -1.7500160932540894], [1.6240265369415283, -0.9512749314308167], [1.0004057884216309, -0.7588417530059814]], [[0.24340909719467163, -1.1851825714111328], [1.6934336423873901, -1.7319889068603516], [1.6477409601211548, -0.9166478514671326], [0.996366560459137, -0.7581555247306824]], [[0.25835373997688293, -1.202074408531189], [1.7264610528945923, -1.7133724689483643], [1.6692614555358887, -0.8822568655014038], [0.9929285645484924, -0.7570381760597229]], [[0.27389976382255554, -1.2185478210449219], [1.758539080619812, -1.6941906213760376], [1.688791036605835, -0.8481593728065491], [0.9899309873580933, -0.7554806470870972]], [[0.2900364100933075, -1.234578013420105], [1.7896952629089355, -1.6744682788848877], [1.706508755683899, -0.8143960237503052], [0.9872324466705322, -0.7534915804862976]], [[0.30675357580184937, -1.250139832496643], [1.819954752922058, -1.654231071472168], [1.722574234008789, -0.7809953689575195], [0.9847092032432556, -0.751092791557312]], [[0.32404160499572754, -1.2652089595794678], [1.849340796470642, -1.6335039138793945], [1.7371279001235962, -0.7479771375656128], [0.9822534322738647, -0.7483149170875549]], [[0.34189140796661377, -1.2797608375549316], [1.8778754472732544, -1.6123127937316895], [1.7502950429916382, -0.715354323387146], [0.979771077632904, -0.745194673538208]], [[0.36029380559921265, -1.293770670890808], [1.90557861328125, -1.590682029724121], [1.7621870040893555, -0.6831353902816772], [0.977179765701294, -0.7417729496955872]], [[0.37923991680145264, -1.3072134256362915], [1.932469367980957, -1.5686355829238892], [1.7729034423828125, -0.6513254046440125], [0.9744078516960144, -0.7380937337875366]], [[0.3987206816673279, -1.3200640678405762], [1.9585647583007812, -1.5461968183517456], [1.7825336456298828, -0.6199268698692322], [0.9713924527168274, -0.7342027425765991]], [[0.41872701048851013, -1.3322969675064087], [1.9838815927505493, -1.5233880281448364], [1.791157841682434, -0.5889403820037842], [0.9680788516998291, -0.7301474213600159]], [[0.4392494261264801, -1.343885898590088], [2.008435010910034, -1.5002306699752808], [1.7988489866256714, -0.5583652853965759], [0.9644193053245544, -0.7259761691093445]], [[0.46027836203575134, -1.3548039197921753], [2.032240390777588, -1.4767454862594604], [1.8056726455688477, -0.5282000303268433], [0.9603719711303711, -0.7217381000518799]], [[0.48180362582206726, -1.3650234937667847], [2.055311441421509, -1.4529519081115723], [1.8116888999938965, -0.498442143201828], [0.955901026725769, -0.7174829244613647]], [[0.503814697265625, -1.3745157718658447], [2.0776607990264893, -1.4288686513900757], [1.8169527053833008, -0.4690884053707123], [0.950975775718689, -0.7132612466812134]], [[0.5263001918792725, -1.3832509517669678], [2.099301815032959, -1.4045137166976929], [1.8215140104293823, -0.4401354491710663], [0.9455699324607849, -0.7091242074966431]], [[0.5492480397224426, -1.3911978006362915], [2.120246171951294, -1.37990403175354], [1.8254189491271973, -0.4115794599056244], [0.9396618008613586, -0.7051236033439636]], [[0.5726449489593506, -1.3983237743377686], [2.1405060291290283, -1.355055570602417], [1.8287098407745361, -0.3834162950515747], [0.9332339763641357, -0.701312243938446]], [[0.5964766144752502, -1.4045947790145874], [2.16009259223938, -1.3299837112426758], [1.8314253091812134, -0.35564181208610535], [0.9262734651565552, -0.6977440118789673]], [[0.6207271218299866, -1.4099745750427246], [2.1790173053741455, -1.3047027587890625], [1.833601474761963, -0.3282514810562134], [0.9187713861465454, -0.694473385810852]], [[0.6453787684440613, -1.4144257307052612], [2.197291135787964, -1.2792259454727173], [1.8352710008621216, -0.3012406826019287], [0.9107231497764587, -0.6915562748908997]], [[0.6704117059707642, -1.4179081916809082], [2.21492338180542, -1.253566026687622], [1.836464524269104, -0.2746047377586365], [0.9021286368370056, -0.6890497207641602]], [[0.695803701877594, -1.4203804731369019], [2.231924533843994, -1.2277348041534424], [1.8372098207473755, -0.2483386993408203], [0.8929924964904785, -0.6870120763778687]], [[0.7215294241905212, -1.4217990636825562], [2.248304605484009, -1.201743245124817], [1.8375327587127686, -0.22243763506412506], [0.8833242058753967, -0.685502827167511]], [[0.7475603222846985, -1.4221179485321045], [2.2640738487243652, -1.1756012439727783], [1.8374561071395874, -0.19689643383026123], [0.8731387257575989, -0.6845831274986267]], [[0.7738639116287231, -1.4212895631790161], [2.2792410850524902, -1.1493178606033325], [1.837001919746399, -0.171709805727005], [0.8624567985534668, -0.6843146681785583]], [[0.8004029989242554, -1.4192644357681274], [2.293816328048706, -1.122901201248169], [1.8361891508102417, -0.1468723714351654], [0.8513055443763733, -0.6847606897354126]], [[0.8271355628967285, -1.4159916639328003], [2.3078086376190186, -1.0963588953018188], [1.8350355625152588, -0.12237855792045593], [0.8397189974784851, -0.6859852075576782]], [[0.8540139198303223, -1.4114186763763428], [2.321227550506592, -1.069697380065918], [1.8335566520690918, -0.09822264313697815], [0.8277385234832764, -0.6880524158477783]]];
        const gammas = [1.0, -1.0, 1.0, 1.0];
        const canvas = document.getElementById('simCanvas');
        const ctx = canvas.getContext('2d');
        const cx = canvas.width / 2;
        const cy = canvas.height / 2;
        const scale = 100; 
        
        let frame = 0;
        
        // Trail
        const trails = gammas.map(() => []);
        const maxTrail = 100;
        
        function draw() {
            // Fade out
            ctx.fillStyle = 'rgba(0,0,0,0.2)';
            ctx.fillRect(0,0, canvas.width, canvas.height);
            
            const positions = history[frame];
            
            for(let i=0; i<gammas.length; i++) {
                const x = cx + positions[i][0] * scale;
                const y = cy - positions[i][1] * scale;
                
                // Trail
                trails[i].push([x,y]);
                if(trails[i].length > maxTrail) trails[i].shift();
                
                ctx.beginPath();
                ctx.strokeStyle = gammas[i] > 0 ? 'rgba(255,100,100,0.5)' : 'rgba(100,100,255,0.5)';
                if(trails[i].length > 0) ctx.moveTo(trails[i][0][0], trails[i][0][1]);
                for(let p of trails[i]) ctx.lineTo(p[0], p[1]);
                ctx.stroke();
                
                // Vortex
                ctx.beginPath();
                ctx.arc(x, y, 6, 0, 2*Math.PI);
                ctx.fillStyle = gammas[i] > 0 ? '#f55' : '#55f';
                ctx.fill();
            }
            
            frame = (frame + 1) % history.length;
            requestAnimationFrame(draw);
        }
        
        draw();
    </script>
</body>
</html>
    